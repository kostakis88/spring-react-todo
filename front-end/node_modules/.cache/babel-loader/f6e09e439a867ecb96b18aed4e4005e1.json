{"ast":null,"code":"var _jsxFileName = \"/home/kostas/Projects/spring-react-todo/front-end/src/components/ToDoList.js\";\nimport React, { Component } from 'react';\nimport TodoDataService from '../api/TodoDataService';\nimport Authentication from './Authentication';\n\nclass ToDoList extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: [],\n      message: null\n    };\n\n    this.refreshTodos = username => {\n      TodoDataService.retrieveAllTodos(username).then(response => {\n        this.setState({\n          todos: response.data\n        });\n      });\n    };\n\n    this.handleDeleteClick = id => {\n      let username = Authentication.getLoggedInUsername();\n      TodoDataService.deleteTodo(username, id).then(response => {\n        this.setState({\n          message: `Todo with id ${id} is successfully deleted!`\n        });\n        this.refreshTodos(username);\n      });\n    };\n\n    this.handleUpdateClick = id => {\n      this.props.history.push(`/todos/${id}`);\n    };\n  }\n\n  componentDidMount() {\n    let username = Authentication.getLoggedInUsername();\n    this.refreshTodos(username);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, \"ToDos\"), this.state.message && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 32\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, \"Due Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, \"is it Completed?\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, this.state.todos.map(todo => /*#__PURE__*/React.createElement(\"tr\", {\n      key: todo.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, todo.description), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, todo.targetDate.toString()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, todo.done.toString()), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.handleUpdateClick(todo.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }, \"Update\")), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-warning\",\n      onClick: () => this.handleDeleteClick(todo.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, \"Delete\")))))));\n  }\n\n}\n\nexport default ToDoList;","map":{"version":3,"sources":["/home/kostas/Projects/spring-react-todo/front-end/src/components/ToDoList.js"],"names":["React","Component","TodoDataService","Authentication","ToDoList","state","todos","message","refreshTodos","username","retrieveAllTodos","then","response","setState","data","handleDeleteClick","id","getLoggedInUsername","deleteTodo","handleUpdateClick","props","history","push","componentDidMount","render","map","todo","description","targetDate","toString","done"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TodoDataService from '../api/TodoDataService';\nimport Authentication from './Authentication';\n\nclass ToDoList extends Component {\n  state = {\n    todos: [],\n    message: null\n  };\n\n  componentDidMount() {\n    let username = Authentication.getLoggedInUsername();\n    this.refreshTodos(username);\n  }\n\n  refreshTodos = (username) => {\n    TodoDataService.retrieveAllTodos(username)\n    .then(response => {\n      this.setState({\n        todos: response.data\n      });\n    });\n  }\n\n  handleDeleteClick = (id) => {\n    let username = Authentication.getLoggedInUsername();\n    TodoDataService.deleteTodo(username, id)\n      .then(response => {\n        this.setState({\n          message: `Todo with id ${id} is successfully deleted!`\n        }); \n        this.refreshTodos(username);\n      });\n  }\n\n  handleUpdateClick = (id) => {\n    this.props.history.push(`/todos/${id}`);\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h1>ToDos</h1>\n        {this.state.message && <div className=\"alert alert-success\">{this.state.message}</div>}\n        <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Description</th>\n            <th>Due Date</th>\n            <th>is it Completed?</th>\n            <th>Update</th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.state.todos.map(todo => \n            <tr key={todo.id}>\n              <td>{todo.description}</td>\n              <td>{todo.targetDate.toString()}</td>\n              <td>{todo.done.toString()}</td>\n              <td><button className=\"btn btn-success\" onClick={() => this.handleUpdateClick(todo.id)}>Update</button></td>\n              <td><button className=\"btn btn-warning\" onClick={() => this.handleDeleteClick(todo.id)}>Delete</button></td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      </div>\n    );\n  }\n}\n\nexport default ToDoList;"]},"metadata":{},"sourceType":"module"}